<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<head>
  <title>Where Did All The Great Women Go?</title>
  <link rel="icon" href="./svgs/question.svg">
</head>
<style>

@font-face{
    src: url(./Fonts/BASKE1.ttf);
    font-family: Baskerville;
}

.mobileShow {display: none;}

body{
  max-width: 1200px;
  margin: 0px auto;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  background-color: #ebebeb;
  background-image: url(./svgs/preview.svg);
  background-position:top;
  background-repeat: no-repeat;
}

h1{
    text-align: center;
    line-height: 100px;
    font-size: 80px;
    font-style: Bold;
    z-index: 1;
    padding-top: 200px;
    font-family: Baskerville;
    color: #7951a8;
}

h1 span{
  font-size: 190px;
}

h2{
  text-align: center;
  font-family: 'Lucida Grande';
  font-size: 20px;
  padding-top: 0px;
}

h2 span{
  font-size: 35px;
  color:#7951a8;
}

h3{
  padding-top: 20px;
  text-align: center;
  font-family: 'Lucida Grande';
  font-size: 15px;
}


#title{
  max-width: 100%;
  height: 600px;

}


#container{
  position: relative;
}

#sections{
  width: 600px;
  position: relative;
  margin: 0px auto;
  /* opacity: 0; */
  /* display: none; */
}

#sections > div{
  background: rgba(255,255,255);
  padding: 10px;
  border: 1px solid;
  border-color: white;
  border-radius:15px;
  margin-bottom: 80vh;
}
#sections > div:last-child{
  margin-bottom: 30px;
}
#sections > div.graph-scroll-active{
  opacity: 1;
}

#graph{
  margin-left: 0px;
  width: 100%;
  position: -webkit-sticky;
  position: sticky;
  top: 0px;
  float: none;
  vertical-align: center;
  justify-content: center;
  grid-template-columns:repeat(auto-fill, minmax(70px, 300px));
}

#links{
  text-align: center;
}

pre{
    overflow: hidden;
  }


circle{
  fill: steelblue;
}

.mono{
  font-family: monospace;
}

#text-break{
  margin-top: 400px;
  height: 600px;
  text-align: left;
  width: 1200px;
  margin-left: auto;
  margin-right: auto;
  /* opacity: 0; */
}

p{
  vertical-align: center;
  width: 400px;
  margin-left:auto;
  margin-right:auto;
  font-family: 'Lucida Grande';
}

p span{
  font-size: large;
  font-weight: bold;
}

p span1{
  font-size: small;
  color:grey;
}

p span2{
  font-size: small;
  text-align: center;
}

.picture{
  width: 225px;
  height:300px;
  margin-right: 30px;
  margin-left: 30px;
  vertical-align: center;
  justify-content: center;
  padding-top:100px;
}

#img{
  display: inline-block;
  vertical-align: center;
  justify-content: center;
  padding-top: 100px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 75px;

}

#container-1{
  vertical-align: center;
  justify-content: center;

  margin-top: 1rem;
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(70px, 300px));
}

div.card{
  max-width: 240px;
  display: inline-block;

  vertical-align:top;
  white-space:normal;
}
      
div.card h2{
  font-size:1.2rem;
  line-height:1.1;
  text-align: center;
}
      
div.card div.image{
  width:240px;height:360px;
  display:flex;
  align-items: flex-end;
}

div.card div.image img{
  max-width:100%;height:auto;
  max-height:360px;
}

a{
  color:black;
  text-align: center;
  text-decoration: none;
  margin: auto;
  margin-left: auto;
  margin-right: auto; 
}

a:hover{
  text-decoration: underline;
  color: #7951a8;
}

/* The Modal (background) */
.modal {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 1; /* Sit on top */
          padding-top: 100px; /* Location of the box */
          left: 0;
          top: 0;
          width: 100%; /* Full width */
          height: 100%; /* Full height */
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }

/* Modal Content */
.modal-content {
          background-color: #fefefe;
          margin: auto;
          padding: 20px;
          border: 1px solid #888;
          width: 600px;
      }
.modal-content img{
        max-width:100%;height:auto;
        /* max-height:200px; */
      }

/* The Close Button */
.close {
        color: #aaaaaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }

.close:hover,
.close:focus {
        color: #000;
        text-decoration: none;
        cursor: pointer;
      }

#button {
          width: 6em;
          border: 2px solid rgb(255, 255, 255);
          background: rgb(192, 192, 192);
          border-radius: 5px;
          text-align: center;
          vertical-align: middle;
          justify-content: center;
          display: inline-block;
      }

@media screen and (max-width: 700px) {
  body{
    background-color: #ebebeb;
    background-image: none;
  }

  .mediastop{
    color:#7951a8;
    font-family: Baskerville;
    text-align: center;
    font-size: 30px;
    vertical-align: center;
    margin:30px;
    padding-top: 200px;
  }

  #sections{
    display:none;
  }

  #text-break{
    display: none;
  }

  #image {
    display: none;
  }

  #container {
    display:none;
  }

  h1{
    display:none;
  }

  h2{
    display:none;
  }

  h3{
    display:none;
  }
}

@media screen and (min-width: 700px){
  .mediastop {
    display:none;
  }
}

/* svg{
  background-color: #eee;
} */

/* .svg{
  width:1200;
  height:600px;
} */

</style>

<body>

<div class="mediastop">
  Thank you for your interest in<br>Where Did All The Great Women Go!<br><br>To experience this visualization to the fullest please visit the site on desktop.
</div>

<div id='title'>
  <h1>Where Did All <br>The Great Women Go<span>?</span></h1>
  <h2>The Matilda Effect and The Repercussions of Lost Women in History</h2>
  <h3>By Isabel Stoddart</h3>
  <!-- <img src="home.svg" class="svg"> -->
</div>

<div id="text-break">
  <p>
    The Matilda Effect is a bias against acknowledging the achievements of those women scientists whose work is attributed to their male colleagues.</p>

<p>Margaret W. Rossiter coined the term in 1993, in her article “The MathewMatilda Effect in Science”. Rossiter named the term after Matilda J. Gage, who was a women’s suffragist and abolitionist in the 19th century. Gage criticized men’s tendency to rob women of their scientific and technological inventions and advancements in her 1870 essay “Woman as Inventor”.</p>
</div>


<div id='container' class='container-1'>
  <h2>Click on a woman to discover her story</h2>
  <div id='graph'></div>

  <button id="myBtn"></button>

     <!-- The Modal -->
     <div id="myModal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <span class="close">&times;</span>
        <div class="modal-image"></div>
      </div>
    </div>

  <div id='sections'>
    <div>
      <p>Countless women have been victims of The Matilda Effect and there are certainly many women who haven’t been discovered yet.</p>

    </div>

    <div>
      <p><span>Rosalind Franklin</span> was an important contributor to the discovery of the double helix structure of DNA in 1953 but did not receive the Nobel Prize for her work, while her male colleagues did.</p>
    </div>


    <div>
      <p><span>Lisa Meitner’s</span> work in nuclear physics laid the groundwork for the atomic bomb when she discovered that nuclear fission could create large amounts of energy.  Her work was not recognized, and her male colleague won the Nobel Peace Prize while she did not.</p>
    </div>

    <div>
      <p><span>Emilie du Châtelet</span> made important contributions to Isaac Newton’s Principia where she added a 180-page commentary of Newton’s work in the language of calculus helping to articulate and popularize his theories. Newton is taught in every classroom, while Emilie is not. </p>
    </div>

  </div>

</div>

<div id = "text-break">
  <p>Although the stealing of women’s scientific achievements is not particularly prevalent today, the consequences of these women’s achievements going widely unnoticed is.</p>

  <p>Because of these women's contributions to science going unnoticed and credited to men, when it comes to teaching students about pioneers in the science world female scientists aren't taught about nearly as much as male scientists. </p>
</div>

<div id='container' class='container-2'>
  <div id='graph'>
  </div>

  <div id='sections'>
    <div>
      <p>Looking at <span>5 children's education websites</span>, male scientists are included on lists of scientists to teach students about at a disproportionately larger level than women.</p>
    </div>

    <div>
      <p>Women only account for about <span>20%</span> of the scientists deemed to be worthy of teaching about in the classroom.</p>
    </div>

    <!-- <div>
      <p>Despite the steady increase of women receiving STEM degrees, women still only account for 36% of degrees earned in STEM fields overall.</p>
   </div> -->
  </div>
</div>


   <div id = "text-break">
    <p>When girls grow up mostly learning about male scientists is it possible for them to envision becoming scientists themselves?</p>
  
    <p>A 2020 study conducted at Universidad CEU San Pablo in Spain asked the question of whether having female role-models in STEM makes girls want to go into STEM themselves. STEM standing for Science, Technology, Engineering, and Math. This study showed that a top way to encourage girls to pursue science and technology studies is to expose them to actual successful female role models. </p>
  </div>


  <div id='container' class='container-3'>
    <div id='graph'></div>
  
    <div id='sections'>
      <div>
        <p>The study found that girls enjoyment in math, perceived importance of math, expectations of success in math, and choice of going into STEM fields increased significantly after being introduced to female role models. Stereotypes around females in STEM were also shown to decrease when girls were introduced to female role models.</p>
      </div>
  
      <div>
        <p>The 304 girls from 12-16 years of age were given a survey to rate these variables on a scale of 1 to 7 before and after the role model sessions. The mean rating of enjoyment in STEM (specifically Math) went up by <span>0.77</span>. <br><br>

          <span1>This difference in means has a t statistic of 6.34 and a p value less than 0.05, showing a significant difference.</span1><br><br>
          
          <p id="links"><span2><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2020.02204/full">Source</a></span2></p>
      </div>
  
      <div>
        <p> The mean rating of importance attached to STEM (specifically Math) went up by <span>0.77</span>.<br><br>

          <span1>The difference in means has a t statistic of 6.94 and a p value less than 0.05, showing a significant difference.</span1><br><br>
          
          <p id="links"><span2><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2020.02204/full">Source</a></span2></p>
      </div>

      <div>
        <p> The mean rating of gender stereotypes around the higher math abilities and motivation of boys compared to girls went down by <span>-0.42</span>.<br><br>

          <span1>The difference in means has a t statistic of -5.59 and a p value less than 0.05, showing a significant difference.</span1><br><br>
          
          <p id="links"><span2><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2020.02204/full">Source</a></span2></p>
      </div>

      <div>
        <p> The mean rating of expectations of math success went up by <span>0.5</span>.<br><br>

          <span1>The difference in means has a t statistic of 3.77 and a p value less than 0.05, showing a significant difference.</span1><br><br></p>
          
          <p id="links"><span2><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2020.02204/full">Source</a></span2></p>
      </div>

      <div>
        <p> The mean rating of likelihood of choosing a university degree across the following four STEM disciplines: math, physical science, computer science, and engineering went up by <span>0.79</span>.<br><br>

          <span1>The difference in means has a t statistic of 7.69 and a p value less than 0.05, showing a significant difference.</span1><br><br></p>
          
          <p id="links"><span2><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2020.02204/full">Source</a></span2></p>
      </div>
  
    </div> 
  
  </div>

  <div id = "text-break">
    <p>The journey to increasing females in STEM bachelor programs, females in the workforce, and females receiving high STEM prizes starts at a young age. Girls can’t go into STEM programs and propel their careers if they don’t learn about STEM and the potential life they can have working in it.</p>

    <p>Let's take a look at what women in STEM currently looks like.</p>
  </div>

<div id='container' class='container-4'>
  <div id='graph'></div>

  <div id='sections'>
    <div>
      <p>Low percentages of women receive bachelors degrees in STEM fields.</p>
    </div>

    <div>
      <p>The percentages of women receiving STEM degrees has increased steadily over the years in all fields except for Computer Science that peaked in the 80s and has been decreasing ever since. </p>
    </div>

    <div>
      <p>Despite the steady increase of women receiving STEM degrees, women still only account for <span>36%</span> of degrees earned in STEM fields overall.</p>
   </div>
  </div> 
</div>

<div id = "text-break">
  <p>Men also exceed women in employment in STEM fields.</p>
</div>

<div id='container' class='container-5'>
  <div id='graph'></div>

  <div id='sections'>
    <div>
      <p>As of 2019, men exceeded women in employment in all STEM fields except for life, physical, and social science technicians.</p>
    </div>

    <div>
      <p>The biggest gaps exist in computer and engineering occupations with men exceeding women by more than double in both cases.</p>
    </div>

    <div>
      <p>For sake of spacing, healthcare occupations was omitted from the graph but males in healthcare professions also exceed women by well over double with <span>7,805,668</span> men and only <span>2,631,691</span> women.</p>
   </div>
  </div> 
</div>

<div id = "text-break">
  <p>Women receive high level STEM awards at lower percentages than men.</p>
</div>

<div id='container' class='container-6'>
  <div id='graph'>
    <img src="./svgs/turing.svg" class="svg">
  </div>
  <div id='sections'>
    <div>
      <p>The Turing Award is an annual prize given for achievements in the computer field.</p>

    </div>

    <div>
      <p>Only <span>3 of the 70</span> Turing Awards given since 1966 were awarded to women.</p>
    </div>

    <div>
      <p><span>Frances ("Fran") Elizabeth Allen</span> was awarded The Turing Award in 2006 for her work optimizing compiler techniques that translate code from one language into another which laid the foundation for automatic parallel execution.</p>
    </div>

    <div>
      <p><span>Barbara Liskov</span> was awarded The Turing Award in 2008 for her work in programming languages and system design, specifically for her work in data abstraction, fault tolerance, and distributed computing.</p>
    </div>

    <div>
      <p><span>Shafi Goldwasser</span> was awarded The Turing Award in 2012 for her work that paved the way for the study of Cryptography.</p>
    </div>


    <!-- <div>
      <p>Lisa Meitner’s work in nuclear physics laid the groundwork for the atomic bomb when she discovered that nuclear fission could create large amounts of energy.  Her work was not recognized, and her male colleague won the Nobel Peace Prize while she did not.</p>
    </div>

    <div>
      <p>Emilie du Châtelet made important contributions to Isaac Newton’s Principia where she added a 180-page commentary of Newton’s work in the language of calculus helping to articulate and popularize his theories. Newton is taught in every classroom, while Emilie is not. </p>
    </div> -->

  </div>

</div>

<div id = "text-break">
  <p></p>
</div>

<div id='container' class='container-6'>
  <div id='graph'>
    <img src="./svgs/fields.svg" class="svg">
  </div>
  <div id='sections'>
    <div>
      <p>The Fields Medal is an award for excellence in Mathematics awarded every 4 years.</p>

    </div>

    <div>
      <p>Only <span>1 of the 60</span> Fields Medals given since 1936 were awarded to women.</p>
    </div>

    <div>
      <p><span>Maryam Mirzakhani</span> was awarded The Fields Medal in 2014 for her work in the geometry of Riemann surfaces becoming the first woman to ever win a Fields Medal.</p>
    </div>


    <!-- <div>
      <p>Lisa Meitner’s work in nuclear physics laid the groundwork for the atomic bomb when she discovered that nuclear fission could create large amounts of energy.  Her work was not recognized, and her male colleague won the Nobel Peace Prize while she did not.</p>
    </div>

    <div>
      <p>Emilie du Châtelet made important contributions to Isaac Newton’s Principia where she added a 180-page commentary of Newton’s work in the language of calculus helping to articulate and popularize his theories. Newton is taught in every classroom, while Emilie is not. </p>
    </div> -->

  </div>

</div>

<div id = "text-break">
  <p></p>
</div>

<div id='container' class='container-7'>
  <div id='graph'>
    <img src="./svgs/Nobel.svg" class="svg">
  </div>
  <div id='sections'>
    <div>
      <p>The Nobel Prize consists of 5 different prizes that are awarded once a year to those that have benefited mankind in the areas of Physics, Chemistry, Medicine, Literature, and Peace.</p>

    </div>

    <div>
      <p><span>23 out of the 622</span> Nobel Prizes awarded in STEM (Physics, Chemistry, and Medicine) since 1901 have been awarded to women.</p>
    </div>

    <div>
      <p>The first Nobel Prize awarded to a woman was in 1903 to Marie Curie. Since then <span>3</span> other women have won a solo Nobel Prize and <span>19</span> have shared the prize with other recipients.</p>
    </div>

    <div>
      <h2>Female Recipients</h2>
      <p>Marie Curie (1903) - Nobel Prize in Physics</p>
      <p>Maria Goeppert Mayer (1963) - Nobel Prize in Physics</p>
      <p>Donna Strickland (2018) - Nobel Prize in Physics</p>
      <p>Andrea Ghez (2020) - Nobel Prize in Physics</p>
      <p>Marie Currie (1911) - Nobel Prize in Chemistry</p>
      <p>Irène Joliot-Curie (1935) - Nobel Prize in Chemistry</p>
      <p>Dorothy Crowfoot Hodgekin (1964) - Nobel Prize in Chemistry</p>
      <p>Ada E. Yonath (2009) - Nobel Prize in Chemistry</p>
      <p>Frances H. Arnold (2018) - Nobel Prize in Chemistry</p>
      <p>Jennifer A. Doudna (2020) - Nobel Prize in Chemistry</p>
      <p>Emmanuelle Charpentier (2020) - Nobel Prize in Chemistry</p>
      <p>Gerty Theresa Cori, née Radnitz (1947) - Nobel Prize in Medicine</p>
      <p>Rosalyn Yalow (1977) - Nobel Prize in Medicine</p>
      <p>Barbara McClintock (1983) - Nobel Prize in Medicine</p>
      <p>Rita Levi-Montalcini (1986) - Nobel Prize in Medicine</p>
      <p>Gertrude B. Elion (1988) - Nobel Prize in Medicine</p>
      <p>Christiane Nüsslein-Volhard (1995) - Nobel Prize in Medicine</p>
      <p>Linda B. Buck (2004) - Nobel Prize in Medicine</p>
      <p>Françoise Barré-Sinoussi (2008) - Nobel Prize in Medicine</p>
      <p>Carol W. Greider (2009) - Nobel Prize in Medicine</p>
      <p>Elizabeth H. Blackburn (2009) - Nobel Prize in Medicine</p>
      <p>May-Britt Moser (2014) - Nobel Prize in Medicine</p>
      <p>Tu Youyou (2015) - Nobel Prize in Medicine</p>
    </div>

  </div>

</div>

<div id = "text-break">
  <p>Women are represented in the STEM fields at all levels at a significantly lower rate than men.</p>
  <p>As the case study shows, being introduced to females in STEM leads girls to stronger perceptions of it and a better chance of wanting to go into it themselves.</p>
  <p>The importance of uncovering the lost women in history lies in more than just bringing their stories to light. Learning about these woman’s contributions to STEM and teaching them to girls in grade school can influence girls positively and influence them to go into STEM themselves. Seeing more women in STEM can change the perceptions around it and put the world on a positive trajectory to increasing the amount of women in science, technology, engineering, and math.</p>
</div>

<div id="container" class='container-7'>
<div id='graph'>
  <img src="./svgs/women_names.svg" class="svg">
</div>
</div>

<div id="text-break">
  <h2><span>Learn More</span></h2>
  <h3>Organizations That are Working Towards Uncovering<br>Women in History</h3><br>
  <p id="links"><a href="https://www.thenewhistoria.com/">The New Historia</a><br><br>
  <a href="https://womenshistory.si.edu/">Smithsonian American Women's History Initiative</a></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

  <p id="links"><span2><a href="https://github.com/isabelstoddart/msdv-thesis">Data and Methodology</a></span2><br>
  <span2><a href="https://www.isabelstoddart.com/">Isabel Stoddart</a></span2></p>
</div>
</body>




<script src="d3v4+jetpack.js"></script>
<script src="graph-scroll.js"></script>
<script>

var oldWidth = 0
function render(){
  if (oldWidth == innerWidth) return
  oldWidth = innerWidth

  var width = height = d3.select('#graph').node().offsetWidth
 // var r = 40


  if (innerWidth <= 925){
    width = innerWidth
    height = innerHeight*.7
  }

// Women Grid

// load JSON using d3.json
d3.json('./data/women.json', function(json){
        displayImages(json); 
        
    
  }); 


  // Get the modal
let modal = document.getElementById("myModal");

// Get the button that opens the modal
let btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
let span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

// this function creates all
// of our DOM elements
function displayImages(json){
    // select a <div> with an id of "app"
    // this is where we want all of our
    // images to be added

    let app  = d3.select('.container-1 #graph').text('');

    // define "cards" for each item
    let card = app.selectAll('div.card')
                .data(json)
                .enter().append('div')
                .attr('class', 'card')

    let modal = app.selectAll('modal')
                   .data(json)
                   .enter().append('div')
                   .attr('class', 'modal')
 

    // create a div with a class of "image"
    // and populate it with an <img/> tag
    // that contains our filepath

    card.append('div')
        .append('h2')
        .attr('class', 'title')
        .style('color','black')
        .text(d=>d.name)
        //.text(d=>d.date)

        .attr('class', 'image')
        .on("click", function(d){
          showModal(d.bio);
        })

        .append('img')
        .attr('src', d => {
            // all our images are in the "images"
            // folder which we will need to 
            // add to our filename first
            return './pics/' + d.filename
        
        })
}

function showModal(bio){

    d3.select('.modal-image')
    .html('')
    .append('p')
    .text(bio)

    modal.style.display = "block";
}


  // Comparison of female vs. male scientists taught in schools

  var svg2 = d3.select('.container-2 #graph').html('')
    .append('svg')
      .attrs({width: width, height: height-550})

  d3.csv("./data/scientists.csv", function(data) {

    // List of subgroups = header of the csv files = soil condition here
    var subgroups = data.columns.slice(1)

    // List of groups = species here = value of the first column called group -> I show them on the X axis
    var groups = d3.map(data, function(d){return(d.group)}).keys()

    svg2.append("text")
    .attr("x", width / 2 )
    .attr("y", 60)
    .style("text-anchor", "middle")
    .style("font-family","Lucida Grande")
    .style("font-size","30px")
    .text("Scientists Included in Online Science Curriculums by Gender");

    svg2.append("rect").attr("x",(width/2)-100).attr("y",90).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#989898")
    svg2.append("rect").attr("x",(width/2)+25).attr("y",90).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#7951a8")
    svg2.append("text").attr("x", (width/2)-45).attr("y", 100).text("Male").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg2.append("text").attr("x", (width/2)+80).attr("y", 100).text("Female").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")

    svg2.append("text").attr("x", (width/4)-160).attr("y", 340).text("10% Females, 90% Males").style("font-size", "13px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg2.append("text").attr("x", (width/4)+30).attr("y", 405).text("16% Females, 84% Males").style("font-size", "13px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg2.append("text").attr("x", (width/2)-76).attr("y", 255).text("9% Females, 91% Males").style("font-size", "13px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg2.append("text").attr("x", (width/2)+120).attr("y", 360).text("4% Females, 96% Males").style("font-size", "13px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg2.append("text").attr("x", (width/2)+310).attr("y", 90).text("19% Females, 81% Males").style("font-size", "13px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")

    // Add X axis
    var x = d3.scaleBand()
        .domain(groups)
        .range([100, width-100])
        .padding([0.2])
    svg2.append("g")
      .attr("transform", "translate(0," + height*0.5 + ")")
      .call(d3.axisBottom(x).tickSizeOuter(0));

    // Add Y axis
    var y = d3.scaleLinear()
      .domain([0, 100])
      .range([ height*0.5,100]);
    svg2.append("g")
      .attr("transform", "translate(" + width*0.086 + ",0)")
      .call(d3.axisLeft(y));

    // color palette = one color per subgroup
    var color = d3.scaleOrdinal()
      .domain(subgroups)
      .range(["#989898","#7951a8"])

    //stack the data? --> stack per subgroup
    var stackedData = d3.stack()
      .keys(subgroups)
      (data)

    // ----------------
    // Create a tooltip
    // ----------------
    var Tooltip = d3.select('.container-2 #graph')
      .append("div")
      .style("opacity", 0)
      .attr("class", "tooltip")


    // Show the bars
    svg2.append("g")
      .selectAll("g")
      // Enter in the stack data = loop key per key = group per group
      .data(stackedData)
      .enter().append("g")
        .attr("fill", function(d) { return color(d.key); })
        .selectAll("rect")
        // enter a second time = loop subgroup per subgroup to add all rectangles
        .data(function(d) { return d; })
        .enter().append("rect")
          .attr("x", function(d) { return x(d.data.group); })
          .attr("y", function(d) { return y(d[1]); })
          .attr("height", function(d) { return y(d[0]) - y(d[1]); })
          .attr("width",x.bandwidth())
          // .attr("stroke", "grey")
          // .on("mouseover", function(d) {
          //     var subgroupName = d3.select(this.parentNode).datum().key;
          //     var subgroupValue = d.data[subgroupName];
          //     Tooltip
          //       .style("opacity",1)
          //       .html(subgroupValue + " " + subgroupName)
          //       .style('transform', `translate(${d3.event.layerX}px, ${d3.event.layerY-1000}px)`)
          //     d3.select(this)
          //       .style("stroke", "black")
          //       .style("stroke-width", .5)
          //       .style("opacity",1)
          // })
          // .on("mouseout", function(d) {
          //     Tooltip
          //       .style("opacity",0)
          //     d3.select(this).style("stroke","none");
          // });

    })


    // Case study data

    var svg3 = d3.select('.container-3 #graph').html('')
    .append('svg')
      .attrs({width: width, height: height-620})


    // Parse the Data
    d3.csv("./data/casestudy.csv", function(data) {


    svg3.append("text")
    .attr("x", width / 2 )
    .attr("y", 60)
    .style("text-anchor", "middle")
    .style("font-family","Lucida Grande")
    .style("font-size","30px")
    .text("Difference in average rating of 5 variables pertaining to STEM");

    svg3.append("text")
    .attr("x", width / 2 )
    .attr("y", 100)
    .style("text-anchor", "middle")
    .style("font-family","Lucida Grande")
    .style("font-size","25px")
    .text("from a 2020 Case Study on Female Role Models");

    svg3.append("text").attr("x", (width/2)+8).attr("y", 326).text("Stereotypes").style("font-size", "11px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg3.append("text").attr("x", (width/2)-68).attr("y", 176).text("Enjoyment").style("font-size", "11px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg3.append("text").attr("x", (width/2)-72).attr("y", 250).text("Importance").style("font-size", "11px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg3.append("text").attr("x", (width/2)-80).attr("y", 400).text("Expectations").style("font-size", "11px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg3.append("text").attr("x", (width/2)-79).attr("y", 476).text("STEM choice").style("font-size", "11px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")

    svg3.append("text").attr("x", (width/2)+390).attr("y", 180).text("0.77").style("font-size", "16px")
    svg3.append("text").attr("x", (width/2)+390).attr("y", 255).text("0.77").style("font-size", "16px")
    svg3.append("text").attr("x", (width/2)-258).attr("y", 331).text("-0.42").style("font-size", "16px")
    svg3.append("text").attr("x", (width/2)+263).attr("y", 405).text("0.5").style("font-size", "16px")
    svg3.append("text").attr("x", (width/2)+402).attr("y", 480).text("0.79").style("font-size", "16px")

    // Add X axis
    var x = d3.scaleLinear()
      .domain([-1,1])
      .range([120, width-120]);
    svg3.append("g")
      .attr("transform", "translate(0," + height*0.46 + ")")
      .call(d3.axisBottom(x))

    // Y axis
    var y = d3.scaleBand()
      .range([ 120, height-650 ])
      .domain(data.map(function(d) { return d.group; }))
      .padding(1);
    svg3.append("g")
      .attr("transform", "translate(" + width*0.5 + ",0)")
      .call(d3.axisLeft(y))
      .selectAll("text")
        .style("opacity",0)


    // Lines
    svg3.selectAll("myline")
      .data(data)
      .enter()
      .append("line")
        .attr("x1", function(d) { return x(d.value1); })
        .attr("x2", function(d) { return x(d.value2); })
        .attr("y1", function(d) { return y(d.group); })
        .attr("y2", function(d) { return y(d.group); })
        .attr("stroke", "grey")
        .attr("stroke-width", "1px")

    // Circles of variable 2
    svg3.selectAll("mycircle")
      .data(data)
      .enter()
      .append("circle")
        .attr("cx", function(d) { return x(d.value2); })
        .attr("cy", function(d) { return y(d.group); })
        .attr("r", "6")
        .style("fill", "grey")
        // .style("stroke","black")
        // .style("fill","black")
      //   .attr("points", function(d) { if(d.group == "Stereotypes") {
      //     return x(d.value2) + "," + (y(d.group) + 15) + "," + x(d.value2) + "," + (y(d.group) - 15) + "," + (x(d.value2) - 15) + "," + y(d.group)
      //   }
      //   else {
      //     return x(d.value2) + "," + (y(d.group) + 15) + "," + x(d.value2) + "," + (y(d.group) - 15) + "," + (x(d.value2) + 15) + "," + y(d.group)}
      //   }
      // )
    })

  var valuesCaseStudy = ["","Enjoyment","Importance","Stereotypes","Expectations","STEM choice",""]

  var gs = d3.graphScroll()
      .container(d3.select('.container-3'))
      .graph(d3.selectAll('container-3 #graph'))
      .eventId('uniqueId3')  // namespace for scroll and resize events
      .sections(d3.selectAll('.container-3 #sections > div'))
      // .offset(innerWidth < 900 ? innerHeight - 30 : 200)
      .on('active', function(i){
          svg3.selectAll("line")
          .transition()
          .duration(1000)
          .style("stroke-width", function(d) {
            if(d.group == valuesCaseStudy[i]) {
              return "5px"
            }
            else {
              return "1px"
            }
          })
          .style("stroke", function(d){
            if(d.group == valuesCaseStudy[i]) {
              return "#7951a8"
            }
            else {
              return "grey"
            }
          })

          svg3.selectAll("polygon")
          .transition()
          .duration(1000)
          .style("stroke", function(d) { 
            if(d.group == valuesCaseStudy[i]){
              return "#7951a8"
            }
            else {
              return "grey"
            }
          })
          .style("fill", function(d){
            if(d.group == valuesCaseStudy[i]){
              return "#7951a8"
            }
            else {
              return "grey"
            }
          })

          svg3.selectAll("circle")
          .transition()
          .duration(1000)
          .attr("r", function(d) {
            if(d.group == valuesCaseStudy[i]) {
              return "12"
            }
            else {
              return "6"
            }
          })
          .style("fill", function(d){
            if(d.group == valuesCaseStudy[i]){
              return "#7951a8"
            }
            else {
              return "grey"
            }
          })
      })


// Bachelors degrees chart

  var svg4 = d3.select('.container-4 #graph').html('')
    .append('svg')
      .attrs({width: width, height: height-480})


      d3.csv("./data/percent-bachelors-degrees-women-usa.csv", function(data) {
  // List of groups = header of the csv files
  
  var keys = data.columns.slice(1)
  

  var x = d3.scaleLinear()
      .domain(d3.extent(data, function(d) { return d.Year; }))
      .range([50, width-50]);
    svg4.append("g")
      .attr("transform", "translate(0," + height*0.57 + ")")
      .call(d3.axisBottom(x).tickSize(-height*0.45).tickValues([1970, 1975, 1980, 1985, 1990, 1995, 2000, 2005, 2010]).tickFormat(d3.format("")))
      .selectAll("text")
      .style("font-family","Lucida Grande")


      
    svg4.select(".domain").remove()
    //Customization
    svg4.selectAll(".tick line").attr("stroke", "#b8b8b8")

    svg4.append("text")
    .attr("x", width / 2 )
    .attr("y", 30)
    .style("text-anchor", "middle")
    .style("font-family","Lucida Grande")
    .style("font-size","30px")
    .style("padding-top", "100px")
    .text("Percent of STEM Bachelors Degrees Awarded to Women split by Degree");

    svg4.append("rect").attr("x",(width/2)-480).attr("y",50).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#8B6D7E")
    svg4.append("rect").attr("x",(width/2)-245).attr("y",50).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#247BA0")
    svg4.append("text").attr("x", (width/2)-425).attr("y", 65).text("Physical Sciences").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("text").attr("x", (width/2)-190).attr("y", 65).text("Math and Statistics").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("rect").attr("x",(width/2)+20).attr("y",50).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#70C1B3")
    svg4.append("rect").attr("x",(width/2)+270).attr("y",50).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#92AE83")
    svg4.append("text").attr("x", (width/2)+75).attr("y", 65).text("Health Professions").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("text").attr("x", (width/2)+330).attr("y", 65).text("Engineering").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("rect").attr("x",(width/2)-480).attr("y",85).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#FFE066")
    svg4.append("rect").attr("x",(width/2)-245).attr("y",85).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#F9A061")
    svg4.append("text").attr("x", (width/2)-425).attr("y", 100).text("Computer Science").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("text").attr("x", (width/2)-190).attr("y", 100).text("Biology").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("rect").attr("x",(width/2)+20).attr("y",85).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#F25F5C")
    svg4.append("rect").attr("x",(width/2)+270).attr("y",85).attr("width",50).attr("height",20).attr("r", 6).style("fill", "#50514F")
    svg4.append("text").attr("x", (width/2)+75).attr("y", 100).text("Architecture").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg4.append("text").attr("x", (width/2)+330).attr("y", 100).text("Agriculture").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
  
    //Add X axis label:
    svg4.append("text")
        .attr("text-anchor", "end")
        .attr("x", width-50)
        .attr("y", height-485)
        .text("Year")
        .style("font-family","Lucida Grande");

  // Add Y axis
    // Add Y axis
    var y = d3.scaleLinear()
    .domain([-550, 550])
    .range([ height-300,-200]);

  // color palette
  var color = d3.scaleOrdinal()
    .domain(keys)
    .range(['#50514F','#F25F5C','#F9A061','#FFE066','#92AE83', '#70C1B3','#247BA0','#8B6D7E'])

  //stack the data?
  var stackedData = d3.stack()
    .offset(d3.stackOffsetSilhouette)
    .keys(keys)
    (data)

  // create a tooltip
  var Tooltip = svg4
    .append("text")
    .attr("x", 80)
    .attr("y", 20)
    .style("opacity", 0)
    .style("font-size", 25)

  // Three function that change the tooltip when user hover / move / leave a cell
  var mouseover = function(d) {
    Tooltip.style("opacity", 1)
    d3.selectAll(".myArea").style("opacity", .2)
    d3.select(this)
      .style("stroke", "black")
      .style("opacity", 1)
  }
  var mousemove = function(d,i) {
    // grp = keys[i]
    // Tooltip.text(grp)
    //        .style("fill","black")
    //        .style("stroke","black")
  }
  var mouseleave = function(d) {
    Tooltip.style("opacity", 0)
    d3.selectAll(".myArea").style("opacity", 1).style("stroke", "none")
   }


  // Area generator
  var area = d3.area()
    .x(function(d) { return x(d.data.Year); })
    .y0(function(d) { return y(d[0]); })
    .y1(function(d) { return y(d[1]); })

    // Show the areas
  svg4
    .selectAll("mylayers")
    .data(stackedData)
    .enter()
    .append("path")
      .attr("class", "myArea")
      .style("fill", function(d) { return color(d.key); })
      .attr("d", area)
      .on("mouseover", mouseover)
      .on("mousemove", mousemove)
      .on("mouseleave", mouseleave)
  })


  var values = [["Physical Sciences","Math and Statistics", "Health Professions","Engineering","Biology", "Computer Science","Architecture", "Agriculture"],["Computer Science"],["Physical Sciences","Math and Statistics", "Health Professions","Engineering","Biology", "Computer Science","Architecture", "Agriculture"]]
  var val = ["", "Computer Science",""]
  var gs = d3.graphScroll()
      .container(d3.select('.container-4'))
      .graph(d3.selectAll('container-4 #graph'))
      .eventId('uniqueId1')  // namespace for scroll and resize events
      .sections(d3.selectAll('.container-4 #sections > div'))
      // .offset(innerWidth < 900 ? innerHeight - 30 : 200)
      .on('active', function(i){
          svg4.selectAll("path")
          .transition()
          .duration(1000)
          .style("opacity", function(d) { if (values[i].includes(d.key)){
            return 1}
            else {
              return 0.2
            }
          }
          )
          .style("stroke",function(d){if (d.key==val[i]){
            return "black"
          }})


      })




// Women in STEM careers 2019 chart

  var svg5 = d3.select('.container-5 #graph').html('')
    .append('svg')
      .attrs({width: width, height: height-620})

      d3.csv("./data/occupationsSTEM2019.csv", function(data) {


    svg5.append("text")
    .attr("x", width / 2 )
    .attr("y", 60)
    .style("text-anchor", "middle")
    .style("font-family","Lucida Grande")
    .style("font-size","30px")
    .text("Male vs. Female STEM Employment")


    svg5.append("circle").attr("cx",(width/2)-70).attr("cy",90).attr("r", 6).style("fill", "#989898")
    svg5.append("circle").attr("cx",(width/2)+50).attr("cy",90).attr("r", 6).style("fill", "#7951a8")
    svg5.append("text").attr("x", (width/2)-50).attr("y", 90).text("Male").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")
    svg5.append("text").attr("x", (width/2)+70).attr("y", 90).text("Female").style("font-size", "20px").style("font-family","Lucida Grande").attr("alignment-baseline","middle")


    // Add X axis
    var x = d3.scaleLinear()
      .domain([40000,4250000])
      .range([120, width-120]);
    svg5.append("g")
      .attr("transform", "translate(0," + height*0.46 + ")")
      .call(d3.axisBottom(x))

    // Y axis
    var y = d3.scaleBand()
      .range([ 100, height-650 ])
      .domain(data.map(function(d) { return d.occupation; }))
      .padding(1);
    svg5.append("g")
      .attr("transform", "translate(" + width*0.1 + ",0)")
      .call(d3.axisLeft(y))

    // Lines
    svg5.selectAll("myline")
      .data(data)
      .enter()
      .append("line")
        .attr("x1", function(d) { return x(d.female); })
        .attr("x2", function(d) { return x(d.male); })
        .attr("y1", function(d) { return y(d.occupation); })
        .attr("y2", function(d) { return y(d.occupation); })
        .attr("stroke", "grey")
        .attr("stroke-width", "1px")

    // Circles of variable 1
    svg5.selectAll("mycircle")
      .data(data)
      .enter()
      .append("circle")
        .attr("cx", function(d) { return x(d.female); })
        .attr("cy", function(d) { return y(d.occupation); })
        .attr("r", "6")
        .style("fill", "#7951a8")

    // Circles of variable 2
    svg5.selectAll("mycircle")
      .data(data)
      .enter()
      .append("circle")
        .attr("cx", function(d) { return x(d.male); })
        .attr("cy", function(d) { return y(d.occupation); })
        .attr("r", "6")
        .style("fill", "#989898")
    })

  var valuesOcc = [[],["Computer Occupations","Engineering"],[]]
  // "Computer Occupations","Mathematical Science Occupations", "Engineering Occupations","Computer Occupations", "Life Scientists Occupations", "Physical Scientists Occupations","Architecture Occupations"
  //var val = ["", "Computer Science",""]
  var gs = d3.graphScroll()
      .container(d3.select('.container-5'))
      .graph(d3.selectAll('container-5 #graph'))
      .eventId('uniqueId2')  // namespace for scroll and resize events
      .sections(d3.selectAll('.container-5 #sections > div'))
      // .offset(innerWidth < 900 ? innerHeight - 30 : 200)
      .on('active', function(i){
          svg5.selectAll("line")
          .transition()
          .duration(1000)
          .style("stroke-width", function(d) {
            if(valuesOcc[i].includes(d.occupation)) {
              return "5px"
            }
            else {
              return "1px"
            }
          })

          // svg5.selectAll("circle")
          // .transition()
          // .duration(1000)
          // .attr("r", function(d) {
          //   if(valuesOcc[i].includes(d.occupation)) {
          //     return "12"
          //   }
          //   else {
          //     return "6"
          //   }
          // })
      })

  d3.select('#source')
      .styles({'margin-bottom': window.innerHeight - 450 + 'px', padding: '100px'})
}

render()
d3.select(window).on('resize', render)


</script>
